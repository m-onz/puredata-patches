#N canvas 0 14 1016 660 10;
#X floatatom 784 398 7 0 0 0 - - -;
#N canvas 88 22 821 660 fft-analysis 0;
#X obj 51 477 *~;
#X obj 18 477 *~;
#X obj 18 499 -~;
#X obj 167 475 *~;
#X obj 136 475 *~;
#X obj 136 497 +~;
#X obj 109 193 *~;
#X obj 78 193 *~;
#X obj 50 193 *~;
#X obj 19 193 *~;
#X obj 19 218 +~;
#X obj 127 379 *~;
#X obj 20 622 *~;
#X obj 238 430 rfft~;
#X obj 108 161 rfft~;
#X obj 19 564 rifft~;
#X obj 21 646 outlet~;
#X obj 97 379 *~;
#X obj 97 401 +~;
#X obj 124 218 -~;
#X obj 18 431 *~;
#X obj 51 432 *~;
#X obj 127 622 r window-size;
#X obj 426 595 r window-size;
#X obj 426 644 block~;
#X obj 19 349 +~ 1e-015;
#X obj 19 598 *~;
#X obj 52 598 tabreceive~ \$0-hann;
#X obj 127 643 expr 2/(3*$f1);
#X msg 426 619 set \$1 4;
#X obj 97 425 q8_rsqrt~;
#N canvas 0 0 945 660 read-windows 0;
#X obj 18 693 *~;
#X obj 340 448 r window-size;
#X obj 156 300 f;
#X obj 102 91 r window-size;
#X obj 102 139 /;
#X obj 195 695 *~;
#X obj 156 255 bang~;
#X obj 17 551 line~;
#X obj 102 164 * 1000;
#X obj 288 224 r speed;
#X obj 178 276 r location;
#X obj 198 302 +;
#X obj 288 272 *;
#X obj 183 470 +;
#X obj 143 446 t f f;
#X msg 17 523 \$1 \, \$2 \$3;
#X obj 17 496 pack 0 0 0;
#X obj 178 371 / 1000;
#X obj 156 394 *;
#X text 188 394 reading location (samples);
#X obj 51 597 / 4;
#X obj 288 245 * 0.01;
#X floatatom 340 498 7 0 0 0 - - -;
#X obj 340 474 *;
#X obj 499 365 r transpo;
#X obj 499 387 * 0.01;
#X obj 501 408 + 69;
#X obj 502 429 mtof;
#X obj 502 451 / 440;
#X obj 375 474 t b f;
#X obj 19 719 outlet~;
#X obj 195 720 outlet~;
#X obj 218 664 tabreceive~ \$0-hann;
#X obj 803 386 r location;
#X msg 803 409 0;
#X obj 803 432 s speed;
#X obj 768 508 r speed;
#X msg 768 532 set \$1;
#X obj 768 557 s speed-set;
#X text 411 498 stretched window size (samples);
#X obj 877 507 r transpo;
#X msg 877 533 set \$1;
#X obj 877 558 s transpo-set;
#X obj 808 94 r location;
#X msg 826 278 set \$1;
#X obj 808 140 t b f;
#X obj 826 257 f;
#X obj 754 171 int;
#X obj 754 203 sel 0;
#X msg 813 174 1;
#X msg 813 197 0;
#X obj 754 228 del 300;
#X obj 826 302 s location-set;
#X obj 17 637 tabread4~ \$0-sample;
#X obj 194 637 tabread4~ \$0-sample;
#X obj 528 586 r rewind;
#X msg 528 744 \; location \$1;
#X floatatom 111 187 5 0 0 0 - - -;
#X obj 102 115 t f b;
#X obj 142 139 samplerate~;
#X obj 102 208 / 4;
#X obj 233 306 s see-loc;
#X obj 817 116 r see-loc;
#X obj 193 420 / 2;
#X obj 156 420 -;
#X text 229 417 back up 1/2 window;
#X obj 16 597 -~;
#X text 43 6 Read two windows out of the recorded sample \, one 1/4
ahead of the other. The mid point of the front window is specified
by "location". If "speed" is nonzero \, "location" automatically precesses.
;
#X obj 528 720 * -0.5;
#X text 91 587 "back" window 1/4 cycle behind "front" one;
#X text 137 205 computation period (msec) for overlap of 4;
#X text 164 186 msec in a window;
#X obj 528 666 /;
#X obj 528 691 * 1000;
#X obj 528 642 t f b;
#X obj 568 666 samplerate~;
#X obj 528 619 f;
#X msg 845 711 \; rewind bang \; speed \$1;
#X obj 845 684 r auto;
#X obj 730 685 r no-detune;
#X msg 730 707 \; detune 0;
#X text 326 275 loop to precess the location according;
#X text 325 291 to the "speed" parameter.;
#X text 611 31 if location changes \, update number box;
#X text 610 50 in main window via "location-set" \, but;
#X text 613 69 taking care to limit frequency of updates.;
#X text 756 462 reflect control changes;
#X text 756 479 in main window.;
#X text 754 344 setting location by hand;
#X text 752 362 sets speed to zero.;
#X text 760 653 misc controls;
#X text 496 527 "rewind" control takes us;
#X text 499 545 to a location depending on;
#X text 499 564 stretched window size.;
#X obj 497 165 < 0;
#X obj 465 222 spigot;
#X msg 605 236 0;
#X obj 605 259 s speed;
#X floatatom 554 194 5 0 0 0 - - -;
#X obj 499 130 r see-loc;
#X obj 178 347 samplerate~;
#X text 251 344 <-!!!!! Adapted (different in Miller's patch);
#X connect 0 0 30 0;
#X connect 1 0 23 0;
#X connect 2 0 11 0;
#X connect 2 0 18 0;
#X connect 3 0 58 0;
#X connect 4 0 8 0;
#X connect 5 0 31 0;
#X connect 6 0 2 0;
#X connect 6 0 100 0;
#X connect 7 0 66 0;
#X connect 7 0 54 0;
#X connect 8 0 57 0;
#X connect 8 0 60 0;
#X connect 9 0 21 0;
#X connect 10 0 2 1;
#X connect 11 0 2 1;
#X connect 11 0 61 0;
#X connect 12 0 11 1;
#X connect 13 0 16 1;
#X connect 14 0 16 0;
#X connect 14 1 13 0;
#X connect 15 0 7 0;
#X connect 16 0 15 0;
#X connect 17 0 18 1;
#X connect 18 0 64 0;
#X connect 20 0 66 1;
#X connect 21 0 12 0;
#X connect 22 0 20 0;
#X connect 22 0 13 1;
#X connect 22 0 63 0;
#X connect 22 0 76 1;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 23 0;
#X connect 29 1 23 1;
#X connect 32 0 5 1;
#X connect 32 0 0 1;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 43 0 45 0;
#X connect 44 0 52 0;
#X connect 45 0 47 0;
#X connect 45 1 46 1;
#X connect 46 0 44 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 48 0 51 0;
#X connect 49 0 47 1;
#X connect 50 0 47 1;
#X connect 51 0 50 0;
#X connect 51 0 46 0;
#X connect 53 0 0 0;
#X connect 54 0 5 0;
#X connect 55 0 76 0;
#X connect 58 0 4 0;
#X connect 58 1 59 0;
#X connect 59 0 4 1;
#X connect 60 0 16 2;
#X connect 60 0 12 1;
#X connect 62 0 45 0;
#X connect 63 0 64 1;
#X connect 64 0 14 0;
#X connect 66 0 53 0;
#X connect 68 0 56 0;
#X connect 72 0 73 0;
#X connect 73 0 68 0;
#X connect 74 0 72 0;
#X connect 74 1 75 0;
#X connect 75 0 72 1;
#X connect 76 0 74 0;
#X connect 78 0 77 0;
#X connect 79 0 80 0;
#X connect 94 0 95 1;
#X connect 94 0 98 0;
#X connect 95 0 96 0;
#X connect 96 0 97 0;
#X connect 99 0 94 0;
#X connect 99 0 95 0;
#X connect 100 0 17 0;
#X restore 109 133 pd read-windows;
#X obj 137 543 tabsend~ prev-imag;
#X obj 136 567 tabsend~ prev-real;
#X obj 20 8 tabreceive~ prev-real;
#X obj 73 29 tabreceive~ prev-imag;
#X text 272 5 recall previous output amplitude. Its phase will be added
to the phase difference we measure from two windows in the the recorded
sound.;
#X obj 121 69 *~;
#X obj 89 69 *~;
#X obj 89 91 +~;
#X obj 159 94 q8_rsqrt~;
#X obj 159 71 +~ 1e-020;
#X obj 73 119 *~;
#X obj 19 118 *~;
#X obj 181 290 r lock;
#X obj 29 245 lrshift~ 1;
#X obj 24 269 lrshift~ -1;
#X obj 141 245 lrshift~ 1;
#X obj 133 269 lrshift~ -1;
#X obj 35 300 *~;
#X obj 159 312 *~;
#X obj 19 325 +~;
#X obj 125 331 +~;
#X text 247 66 divide by the magnitude to make a unit-magnitude complex
amplitude (phase only). The 1e-020 is to prevent overflows. q8_rsqrt~
is reciprocal square root.;
#X text 247 165 Take FT of the window in back. Multiply its conjugate
by the normalized previous output. The result has the magnitude of
the input sound and phase (previous output phase) minus (back window
phase).;
#X text 249 370 Normalize again \, this time taking care to salt each
channel with 1e-015 so that we get a unit complex number even if everything
was zero heretofore.;
#X text 288 427 Now take the FT of the forward window and multiply
it by the unit complex number from above. The magnitude will be that
of the forward window and the phase will be the previous output phase
plus the phase difference between the two analysis windows -- except
that if "lock" is on \, they will be modified to agree progressively
better with the inter-channel phase relationships of the input.;
#X text 249 242 If "lock" is on \, encourage neighboring channels to
stay in phase by adding the two neighboring complex amplitudes. The
result will tend toward the channel with the strongest amplitude. If
the phase relationships between channels in the output and those in
the input are in parallel \, then neighboring channels of the quotient
will all have the same phase and this will not change any phases. (lrshift
shifts the signal to the left or right depending on its argument.)
;
#X text 387 560 'set' message to block;
#X text 390 577 allows variable size;
#X text 259 126 Read two windows \, one 1/4 length behind the other
\, of the input sound \, with Hann window function (see inside).;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 2 0 33 0;
#X connect 2 0 15 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 32 0;
#X connect 5 0 15 1;
#X connect 6 0 19 1;
#X connect 7 0 19 0;
#X connect 8 0 10 1;
#X connect 9 0 10 0;
#X connect 10 0 46 0;
#X connect 10 0 45 0;
#X connect 10 0 51 0;
#X connect 11 0 18 1;
#X connect 12 0 16 0;
#X connect 13 0 1 1;
#X connect 13 0 3 1;
#X connect 13 1 0 1;
#X connect 13 1 4 1;
#X connect 14 0 9 1;
#X connect 14 0 7 1;
#X connect 14 1 6 1;
#X connect 14 1 8 1;
#X connect 15 0 26 0;
#X connect 17 0 18 0;
#X connect 18 0 30 0;
#X connect 19 0 47 0;
#X connect 19 0 48 0;
#X connect 19 0 52 0;
#X connect 20 0 1 0;
#X connect 20 0 4 0;
#X connect 21 0 0 0;
#X connect 21 0 3 0;
#X connect 22 0 28 0;
#X connect 23 0 29 0;
#X connect 25 0 17 1;
#X connect 25 0 17 0;
#X connect 25 0 20 0;
#X connect 26 0 12 0;
#X connect 27 0 26 1;
#X connect 28 0 12 1;
#X connect 29 0 24 0;
#X connect 30 0 20 1;
#X connect 30 0 21 1;
#X connect 31 0 14 0;
#X connect 31 1 13 0;
#X connect 34 0 38 1;
#X connect 34 0 38 0;
#X connect 34 0 43 0;
#X connect 35 0 37 1;
#X connect 35 0 37 0;
#X connect 35 0 42 0;
#X connect 37 0 39 1;
#X connect 38 0 39 0;
#X connect 39 0 41 0;
#X connect 40 0 42 1;
#X connect 40 0 43 1;
#X connect 41 0 40 0;
#X connect 42 0 8 0;
#X connect 42 0 7 0;
#X connect 43 0 9 0;
#X connect 43 0 6 0;
#X connect 44 0 49 1;
#X connect 44 0 50 1;
#X connect 45 0 49 0;
#X connect 46 0 49 0;
#X connect 47 0 50 0;
#X connect 48 0 50 0;
#X connect 49 0 51 1;
#X connect 50 0 52 1;
#X connect 51 0 25 0;
#X connect 52 0 11 0;
#X connect 52 0 11 1;
#X connect 52 0 21 0;
#X restore -56 85 pd fft-analysis;
#N canvas 12 2 992 681 phase-tables 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array prev-imag 4096 float 0;
#X coords 0 1000 4096 -1000 400 300 1;
#X restore 169 326 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array prev-real 4096 float 0;
#X coords 0 500 4096 -500 400 300 1;
#X restore 170 17 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array prev-imag2 4096 float 0;
#X coords 0 1000 4096 -1000 400 300 1;
#X restore 582 326 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array prev-real2 4096 float 0;
#X coords 0 500 4096 -500 400 300 1;
#X restore 583 17 graph;
#X restore 699 542 pd phase-tables;
#N canvas 376 164 565 454 hann-window 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-hann 2048 float 0;
#X coords 0 1 2047 0 300 100 1;
#X restore 82 311 graph;
#X obj 378 165 osc~;
#X obj 378 190 *~ -0.5;
#X obj 378 214 +~ 0.5;
#X obj 331 247 tabwrite~ \$0-hann;
#X obj 37 88 r window-size;
#X obj 38 173 /;
#X obj 127 142 samplerate~;
#X obj 38 251 s window-sec;
#X obj 177 204 swap;
#X obj 177 228 /;
#X obj 177 252 s window-hz;
#X obj 49 201 * 1000;
#X obj 49 228 s window-msec;
#X obj 38 115 t f b f;
#X msg 173 92 resize \$1;
#X obj 173 116 s \$0-hann;
#X obj 330 105 r window-hz;
#X msg 382 130 0;
#X obj 330 131 t f b;
#X text 15 8 calculate Hann window table (variable window size) and
constants window-hz (fundamental frequency of analysis) \, window-sec
and window-msec (analysis window size in seconds and msec).;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 8 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 7 0 9 1;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 14 0 6 0;
#X connect 14 0 9 0;
#X connect 14 1 7 0;
#X connect 14 2 15 0;
#X connect 15 0 16 0;
#X connect 17 0 19 0;
#X connect 18 0 1 1;
#X connect 19 0 1 0;
#X connect 19 1 4 0;
#X connect 19 1 18 0;
#X restore 699 566 pd hann-window;
#N canvas 152 180 779 284 insample 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-sample 4800 float 0;
#X coords 0 1 4799 -1 400 150 1;
#X restore 348 91 graph;
#X obj 29 92 hip~ 5;
#X obj 147 3 inlet;
#X msg 196 55 start;
#X msg 277 55 stop;
#X obj 29 115 tabwrite~ \$0-sample;
#X obj 263 -3 inlet;
#X msg 458 52 \; \$1 const 0 \;;
#X obj 458 21 symbol \$0-sample;
#X obj 453 -8 inlet;
#X obj 29 -2 inlet~;
#X text 498 -6 Clear table;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 1 0;
#X restore 395 379 pd insample;
#X obj 784 420 s location;
#X obj 858 420 s speed;
#X msg 695 377 2048;
#X obj 695 421 s window-size;
#N canvas 0 25 1011 647 entrailles 0;
#X obj 173 491 line~;
#X obj 377 247 pack 0 0;
#X floatatom 574 151 5 0 0 0 - - -;
#X text 479 221 Portamento;
#X obj 377 274 line;
#X obj 377 172 -;
#X obj 271 509 line~;
#X obj 154 520 *~;
#X obj 253 536 *~;
#X obj 172 463 pack 0 0;
#X obj 271 454 expr 1-$f1;
#X obj 271 479 pack 0 0;
#X msg 124 393 1;
#X obj 575 236 s portamento_sustain;
#X obj 784 235 delay 1;
#X obj 830 190 r portamento_sustain;
#X obj 830 212 + 51;
#X obj 784 33 env~;
#X obj 784 115 sel 1;
#X obj 843 366 s record-sustain;
#X msg 877 306 0;
#X obj 784 261 t b b b;
#X obj 802 405 s stop-record-sustain;
#X obj 722 166 s launch-sustain;
#X obj 122 329 delay 1;
#X obj 168 269 r portamento_sustain;
#X obj 122 244 r launch-sustain;
#X obj 253 319 r stop-record-sustain;
#X msg 253 370 0;
#X obj 173 7 r launch-sustain;
#X obj 173 96 f;
#X obj 304 49 f;
#X obj 173 32 t b b;
#X obj 114 21 inlet;
#X obj 304 8 inlet;
#X obj 10 23 inlet~;
#X obj 63 20 inlet~;
#X obj 172 629 outlet~;
#X obj 775 379 t b b;
#X obj 775 430 s play-sustain;
#X obj 784 57 > 50;
#X obj 784 87 change;
#X obj 173 64 delay 50;
#X obj 303 136 ftom;
#X obj 411 140 ftom;
#X obj 377 221 expr $f1*100;
#X msg 591 90 300;
#X obj 775 307 delay 50;
#N canvas 100 215 607 300 tremolo 0;
#X obj 103 31 inlet;
#X obj 77 103 spigot;
#X obj 157 206 spigot;
#X obj 96 236 outlet;
#X obj 184 157 +;
#X obj 338 145 osc~;
#X obj 330 215 snapshot~;
#X obj 402 161 metro 1;
#X obj 337 110 hsl 128 15 0 10 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 11300 1;
#X obj 388 20 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 338 169 *~ 30;
#X obj 231 79 expr 1-$f1;
#X obj 442 19 inlet;
#X obj 498 21 inlet;
#X connect 0 0 1 0;
#X connect 0 0 4 1;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 4 0 2 0;
#X connect 5 0 10 0;
#X connect 6 0 4 0;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 9 0 7 0;
#X connect 9 0 11 0;
#X connect 9 0 2 1;
#X connect 10 0 6 0;
#X connect 11 0 1 1;
#X connect 12 0 9 0;
#X connect 13 0 8 0;
#X restore 441 325 pd tremolo;
#X obj 405 35 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 427 35 hsl 128 15 0 10 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 11300 1;
#X obj 254 344 t b b;
#X obj 123 361 t b b;
#X obj 172 608 *~ 1;
#X msg 170 393 4;
#N canvas 0 0 450 300 set 0;
#X obj 113 26 inlet;
#X obj 132 213 outlet;
#X obj 118 84 expr if($f1==0 \, 4 \, 36);
#X msg 123 148 set \$1;
#X text 253 148 Pour avoir l'attaque quand on n'a pas de portamento
;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 164 361 pd set time;
#X msg 557 90 0;
#X obj 565 51 sel 1;
#X obj 565 27 inlet;
#X obj 386 5 inlet;
#X obj 438 4 inlet;
#N canvas 0 0 450 300 set 0;
#X obj 128 32 inlet;
#X obj 121 85 expr if($f1>0 \, 2 \, 1);
#X obj 122 230 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 558 563 pd set amp;
#X msg 298 377 50;
#X obj 253 557 *~ 0.5;
#X obj 155 543 *~ 0.5;
#X obj 441 386 s transpo;
#X text 17 176 Audio from;
#X text 17 192 guitar;
#X text 138 171 Audio from;
#X text 138 187 phase vocoder;
#X text 5 499 Let the guitar sound;
#X text 5 515 out when the strings;
#X text 5 530 are plucked for a short;
#X text 5 543 time \, and switch back;
#X text 6 557 to the phase vocoder;
#X text 6 570 output when the sample;
#X text 7 582 has been recorded.;
#X text 151 113 analysed freq from guitar;
#X text 295 63 analysed freq from phase vocoder;
#X text 377 410 Transposition (for tremolo or portamento);
#X text 774 457 Record and play;
#X text 774 474 everytime the strings are plucked.;
#X obj 918 27 vsl 15 128 30 70 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 920 164 5 0 0 0 - - -;
#X text 936 40 Sensitivity;
#X obj 17 60 s~ audio_guitar;
#X obj 784 12 r~ audio_guitar;
#X obj 933 3 inlet;
#X text 701 620 GuitarExtended \, Pierre Massat \, 2012;
#X connect 0 0 7 1;
#X connect 1 0 4 0;
#X connect 2 0 13 0;
#X connect 2 0 1 1;
#X connect 2 0 55 0;
#X connect 2 0 61 0;
#X connect 4 0 48 0;
#X connect 5 0 45 0;
#X connect 6 0 8 1;
#X connect 7 0 64 0;
#X connect 8 0 63 0;
#X connect 9 0 0 0;
#X connect 10 0 11 0;
#X connect 11 0 6 0;
#X connect 12 0 9 0;
#X connect 12 0 10 0;
#X connect 14 0 21 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 17 0 40 0;
#X connect 18 0 14 0;
#X connect 18 0 23 0;
#X connect 20 0 4 0;
#X connect 21 0 47 0;
#X connect 21 1 19 0;
#X connect 21 2 20 0;
#X connect 24 0 52 0;
#X connect 25 0 24 1;
#X connect 26 0 24 0;
#X connect 27 0 51 0;
#X connect 28 0 9 0;
#X connect 28 0 10 0;
#X connect 29 0 32 0;
#X connect 30 0 43 0;
#X connect 31 0 44 0;
#X connect 32 0 42 0;
#X connect 32 1 31 0;
#X connect 33 0 30 1;
#X connect 34 0 31 1;
#X connect 35 0 7 0;
#X connect 35 0 85 0;
#X connect 36 0 8 0;
#X connect 38 0 39 0;
#X connect 38 1 22 0;
#X connect 40 0 41 0;
#X connect 41 0 18 0;
#X connect 42 0 30 0;
#X connect 43 0 5 0;
#X connect 44 0 5 1;
#X connect 45 0 1 0;
#X connect 46 0 2 0;
#X connect 47 0 38 0;
#X connect 48 0 65 0;
#X connect 49 0 48 1;
#X connect 50 0 48 2;
#X connect 51 0 28 0;
#X connect 51 1 62 0;
#X connect 52 0 12 0;
#X connect 52 1 54 0;
#X connect 53 0 37 0;
#X connect 54 0 9 1;
#X connect 54 0 11 1;
#X connect 55 0 54 0;
#X connect 56 0 2 0;
#X connect 57 0 46 0;
#X connect 57 1 56 0;
#X connect 58 0 57 0;
#X connect 59 0 49 0;
#X connect 60 0 50 0;
#X connect 61 0 53 1;
#X connect 62 0 11 1;
#X connect 62 0 9 1;
#X connect 63 0 53 0;
#X connect 64 0 53 0;
#X connect 82 0 83 0;
#X connect 83 0 40 1;
#X connect 86 0 17 0;
#X connect 87 0 82 0;
#X restore -78 369 pd entrailles;
#N canvas 0 0 450 300 sigmund 0;
#X obj 89 21 inlet~;
#X obj 129 120 unpack 0 0 0 0;
#X obj 130 81 sigmund~ -npeak 4 peaks notes;
#X obj 193 194 *;
#X obj 208 176 > 0.01;
#X obj 130 101 route 0;
#X obj 84 50 *~ 25;
#X obj 129 263 outlet;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 1 1 4 0;
#X connect 1 1 3 0;
#X connect 2 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X restore 107 79 pd sigmund guitar;
#N canvas 0 0 450 300 sigmund 0;
#X obj 97 31 inlet~;
#X obj 139 130 unpack 0 0 0 0;
#X obj 140 91 sigmund~ -npeak 4 peaks notes;
#X obj 203 204 *;
#X obj 218 186 > 0.01;
#X obj 140 111 route 0;
#X obj 94 60 *~ 25;
#X obj 139 273 outlet;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 1 1 4 0;
#X connect 1 1 3 0;
#X connect 2 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X restore 105 130 pd sigmund sustain;
#X obj 395 282 r record-sustain;
#X obj 426 301 r stop-record-sustain;
#X obj -78 518 clip~ -1 1;
#X obj 784 346 loadbang;
#X msg 784 375 25;
#X obj 300 44 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 480 44 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 334 43 hsl 128 15 0 10 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 11300 1;
#X obj 278 -20 inlet;
#X obj 398 -21 inlet;
#X obj 504 -17 inlet;
#X obj 657 -14 inlet;
#X text 274 8 Vibrato;
#X text 370 11 Speed;
#X text 478 13 Portamento;
#X obj 638 50 switch~;
#X obj -77 -22 inlet~;
#X obj -77 552 outlet~;
#X obj 687 51 sel 0;
#X msg 858 382 0;
#X text 696 309 Inherited from the original;
#X text 696 324 controls in Miller Puckette's;
#X text 696 338 patch.;
#X obj -75 14 s~ audio_input;
#X obj 371 248 r~ audio_input;
#X obj 106 57 r~ audio_input;
#X obj -78 283 r~ audio_input;
#X text 253 355 Record an audio sample;
#X text 253 369 everytime the musician;
#X text 254 383 plucks the strings;
#X text 736 5 Turn audio on or off;
#X text 737 21 and clear recorded sample;
#X text 737 35 when switched off.;
#X text 693 444 (Location is set to the middle;
#X text 695 460 of the recorded sample (50ms long));
#X text 698 520 Needed by the phase vocoder;
#X obj 574 -16 inlet;
#X text 553 12 Sensitivity;
#X obj 493 66 hsl 128 15 30 70 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 247 610 GuitarExtended \, Pierre Massat \, 2012;
#X text 245 595 (Adapted from Miller Puckette's phase vocoder example)
;
#X connect 0 0 5 0;
#X connect 1 0 9 1;
#X connect 1 0 11 0;
#X connect 7 0 8 0;
#X connect 9 0 14 0;
#X connect 10 0 9 2;
#X connect 11 0 9 3;
#X connect 12 0 4 1;
#X connect 13 0 4 2;
#X connect 14 0 29 0;
#X connect 15 0 16 0;
#X connect 15 0 7 0;
#X connect 15 0 31 0;
#X connect 16 0 0 0;
#X connect 17 0 9 4;
#X connect 18 0 9 6;
#X connect 19 0 9 5;
#X connect 20 0 17 0;
#X connect 21 0 19 0;
#X connect 22 0 18 0;
#X connect 23 0 27 0;
#X connect 23 0 30 0;
#X connect 28 0 35 0;
#X connect 30 0 4 3;
#X connect 31 0 6 0;
#X connect 36 0 4 0;
#X connect 37 0 10 0;
#X connect 38 0 9 0;
#X connect 48 0 50 0;
#X connect 50 0 9 7;
